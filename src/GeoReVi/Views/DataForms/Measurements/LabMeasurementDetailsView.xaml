<UserControl x:Class="GeoReVi.LabMeasurementDetailsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:map="clr-namespace:Microsoft.Maps.MapControl.WPF;assembly=Microsoft.Maps.MapControl.WPF"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
             xmlns:local="clr-namespace:GeoReVi"
             xmlns:fa="http://schemas.fontawesome.io/icons/"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:cal="http://www.caliburnproject.org"
             mc:Ignorable="d" 
             TextOptions.TextFormattingMode="Display"
             Height="Auto" Width="Auto" >
    <UserControl.Triggers>
        <EventTrigger RoutedEvent="Loaded">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation
                  Storyboard.TargetProperty="Opacity"
                  From="0.0" To="1.0" Duration="0:0:0.3"/>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </UserControl.Triggers>
    <UserControl.Resources>
        <CollectionViewSource x:Key="groupedRockSamples" Source="{Binding RockSamples}">
            <CollectionViewSource.GroupDescriptions>
                <PropertyGroupDescription PropertyName="sampooiName"/>
            </CollectionViewSource.GroupDescriptions>
        </CollectionViewSource>
        <CollectionViewSource x:Key="groupedMeasurements" Source="{Binding LaboratoryMeasurements, 
                                                                  NotifyOnSourceUpdated=True,
                                                                    Mode=TwoWay,
                                                                    UpdateSourceTrigger=PropertyChanged}">
            <CollectionViewSource.GroupDescriptions>
                <PropertyGroupDescription PropertyName="measParameter"/>
            </CollectionViewSource.GroupDescriptions>
        </CollectionViewSource>
    </UserControl.Resources>
    <Border Background="Transparent"
            MaxWidth="{Binding Source={x:Static SystemParameters.PrimaryScreenWidth}}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="4*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <!---Navigation pain-->
            <Border x:Name="SidePanel"
                    BorderBrush="LightGray"
                     BorderThickness="1"
                     Background="{StaticResource BackgroundVeryLightBrush}"
                     Grid.Column="0"
                    Grid.Row="1"
                    >

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Grid.Row="0">
                        <Border Background="{StaticResource BackgroundDarkSlateGrayBrush}"
                                CornerRadius="8,8,0,0"
                                Margin="0,0,0,5">
                            <DockPanel>
                                <ComboBox Name="RockSampleCombo" 
                                      FontSize="{StaticResource FontSizeSmall}"
                                      FontWeight="DemiBold"
                                      IsEditable="False"
                                      MinWidth="250"
                                      HorizontalAlignment="Stretch"
                                      MaxWidth="350"
                                      Text="{Binding Path=Type, Mode=TwoWay, NotifyOnSourceUpdated=True, FallbackValue='Outcrop'}"
                                      IsSynchronizedWithCurrentItem="True"
                                      Margin="10,5">
                                    <ComboBoxItem Content="All"/>
                                    <ComboBoxItem Content="Plug"/>
                                    <ComboBoxItem Content="Cuboid"/>
                                    <ComboBoxItem Content="Handpiece"/>
                                    <ComboBoxItem Content="Soil/Sediment"/>
                                </ComboBox>
                            </DockPanel>
                        </Border>
                    </StackPanel>
                    <Grid Grid.Row="1">
                        <ContentControl cal:View.Model="{Binding FilterDataSetViewModel}"/>
                        <Button Tag="Filter" 
                            Content="{StaticResource FontAwesomeFilter}"
                            Style="{StaticResource IconButton}"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Top"
                            cal:Message.Attach="[Event Click] = [Action Filter]">
                        </Button>
                    </Grid>
                    <StackPanel Grid.Row="2">
                        <Expander Style="{StaticResource BaseStyle}"
                              Grid.Row="3"
                              Header="Import functionality"
                                  FontWeight="DemiBold"
                                  FontSize="{StaticResource FontSizeSmall}"
                              Template="{StaticResource StretchyExpanderTemp}"
                              ExpandDirection="Up">
                            <Border Margin="10,16,10,16"
                                AllowDrop="True"
                            CornerRadius="8"
                            Background="{StaticResource WordBlueBrush}"
                            BorderThickness="10"
                            Grid.Row="2"
                            Width="200"
                            Height="200"
                            cal:Message.Attach="[Event Drop] = [Action ImportFile($eventArgs)];">
                                <Border.BorderBrush>
                                    <DrawingBrush Viewport="0,0,20,20" 
                                          ViewportUnits="Absolute" 
                                          TileMode="Tile">
                                        <DrawingBrush.Drawing>
                                            <DrawingGroup>
                                                <GeometryDrawing Brush="White">
                                                    <GeometryDrawing.Geometry>
                                                        <GeometryGroup>
                                                            <RectangleGeometry Rect="0,0,50,50" />
                                                            <RectangleGeometry Rect="50,50,50,50" />
                                                        </GeometryGroup>
                                                    </GeometryDrawing.Geometry>
                                                </GeometryDrawing>
                                            </DrawingGroup>
                                        </DrawingBrush.Drawing>
                                    </DrawingBrush>
                                </Border.BorderBrush>
                                <StackPanel HorizontalAlignment="Center"
                                   VerticalAlignment="Center">
                                    <TextBlock Text="Import data set&#x0a;(Drag and drop)"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource ForegroundLightBrush}"
                                   FontFamily="{StaticResource LatoBold}"
                                   FontSize="{StaticResource FontSizeRegular}"/>
                                    <Image Source="/GeoReVi;component\Media\Icons\Symbols\info.png"
                                   Width="16"
                                   Height="Auto"
                                   Stretch="Uniform">
                                        <Image.ToolTip>
                                            <StackPanel Width="100">
                                                <TextBlock Text=".csv or .xlsx allowed"
                                                   TextWrapping="WrapWithOverflow"/>

                                            </StackPanel>
                                        </Image.ToolTip>
                                    </Image>
                                    <Label Content="Import type"
                                               Style="{StaticResource inputAddLabel}"/>
                                    <ComboBox  SelectedIndex="0"
                                                Text="{Binding Path=ImportType,
                                                        Mode=OneWayToSource,
                                                        UpdateSourceTrigger=PropertyChanged,
                                                        NotifyOnSourceUpdated=True, 
                                                        FallbackValue='No specific'}">
                                        <ComboBoxItem Content="No specific"/>
                                        <ComboBoxItem Content="Apparent permeability"/>
                                        <ComboBoxItem Content="Axial compression"/>
                                        <ComboBoxItem Content="Bulk density"/>
                                        <ComboBoxItem Content="Grain density"/>
                                        <ComboBoxItem Content="Grain size"/>
                                        <ComboBoxItem Content="Hydraulic head"/>
                                        <ComboBoxItem Content="Intrinsic permeability"/>
                                        <ComboBoxItem Content="Isotope"/>
                                        <ComboBoxItem Content="Porosity"/>
                                        <ComboBoxItem Content="Resistivity"/>
                                        <ComboBoxItem Content="Sonic wave velocity"/>
                                        <ComboBoxItem Content="Thermal conductivity"/>
                                        <ComboBoxItem Content="Thermal diffusivity"/>
                                        <ComboBoxItem Content="X-Ray Fluorescence"/>
                                    </ComboBox>
                                </StackPanel>
                            </Border>
                        </Expander>
                    </StackPanel>
                    <ListView x:Name="RockSampleDetailsList"
                              Margin="3"
                              ItemContainerStyle="{StaticResource ListViewItemStyle}"
                               AlternationCount="2"
                              ItemsSource="{Binding Source={StaticResource groupedRockSamples}}"
                              SelectedItem="{Binding SelectedRockSample}"
                               Grid.Row="3" >
                        <ListView.GroupStyle>
                            <GroupStyle>
                                <GroupStyle.ContainerStyle>
                                    <Style TargetType="{x:Type GroupItem}">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <Expander IsExpanded="False"
                                                              Style="{StaticResource BaseStyle}"
                                                              Template="{StaticResource StretchyExpanderTemp}">
                                                        <Expander.Header>
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock Text="{Binding Name}" 
                                                                           FontWeight="DemiBold" 
                                                                           FontSize="14" 
                                                                           VerticalAlignment="Center" />
                                                                <TextBlock Text="{Binding ItemCount}" 
                                                                           FontSize="11" 
                                                                           Foreground="Gray"
                                                                           FontWeight="Bold" 
                                                                           FontStyle="Italic" 
                                                                           Margin="5,0,0,0" 
                                                                           VerticalAlignment="Center" />
                                                            </StackPanel>
                                                        </Expander.Header>
                                                        <ItemsPresenter />
                                                    </Expander>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </GroupStyle.ContainerStyle>
                            </GroupStyle>
                        </ListView.GroupStyle>
                        <ListView.View>
                            <GridView x:Name="RockSampleGridViewList">
                                <GridViewColumn x:Name="IdGvc"
                                                                Header="Sample Id">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock TextAlignment="Right"
                                                               Text="{Binding Path=sampIdPk}" 
                                                               Style="{StaticResource GridViewColumnTextStyle}"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn x:Name="LabelGvc"
                                                                Header="Label">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock TextAlignment="Right"
                                                               Text="{Binding Path=sampLabel}" 
                                                               Style="{StaticResource GridViewColumnTextStyle}"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn x:Name="TypeGvc"
                                                                Header="Type">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock TextAlignment="Right"
                                                               Text="{Binding Path=sampType}" 
                                                               Style="{StaticResource GridViewColumnTextStyle}"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </Border>
            <!---Navigation panel-->
            <Border     Grid.ColumnSpan="3"
                        Grid.Row="0"
                        BorderBrush="{StaticResource ForegroundDarkBrush}"
                        BorderThickness="1"
                        Height="auto">
                <DockPanel>
                    <ToolBarTray DockPanel.Dock="Top">
                        <ToolBar>
                            <Button Tag="First" Content="{StaticResource FontAwesomeBackward}"
                                    Style="{StaticResource IconButton}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Click">
                                        <cal:ActionMessage MethodName="First">
                                        </cal:ActionMessage>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                            <Button Tag="Previous" 
                                    Content="{StaticResource FontAwesomeStepBackward}"
                                    Style="{StaticResource IconButton}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Click">
                                        <cal:ActionMessage MethodName="Previous">
                                        </cal:ActionMessage>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Rock sample "
                                   Style="{StaticResource NavigationTextBlock}"/>
                                <TextBox Text="{Binding SelectedRockSampleIndex, Mode=TwoWay}"
                                 Style="{StaticResource inputTextBox}"
                                 Width="Auto"
                                 VerticalContentAlignment="Center"
                                 Padding="2"/>
                                <TextBlock Text=" of "
                                   Style="{StaticResource NavigationTextBlock}"/>
                                <TextBlock Text="{Binding CountRockSamples, Mode=OneWay, NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}"
                                   Style="{StaticResource NavigationTextBlock}"/>
                            </StackPanel>
                            <Button Tag="Next"
                                    Style="{StaticResource IconButton}"
                                    Content="{StaticResource FontAwesomeStepForward}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Click">
                                        <cal:ActionMessage MethodName="Next">
                                        </cal:ActionMessage>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                            <Button Tag="Last" 
                                    Content="{StaticResource FontAwesomeForward}"
                                    Style="{StaticResource IconButton}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Click">
                                        <cal:ActionMessage MethodName="Last">
                                        </cal:ActionMessage>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                        </ToolBar>
                        <ToolBar>
                            <Button  x:Name="btnDetails"
                                     Tag="Details"
                                     Style="{StaticResource IconButton}"
                                     Content="{StaticResource FontAwesomeDetails}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Click">
                                        <cal:ActionMessage MethodName="AddDetails">
                                        </cal:ActionMessage>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                        </ToolBar>
                        <ToolBar Background="Transparent">
                            <Button x:Name="btnUpdate"
                                    Tag="Save record"
                                    Style="{StaticResource IconButton}"
                                    Content="{StaticResource FontAwesomeSave}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Click">
                                        <cal:ActionMessage MethodName="Update">
                                        </cal:ActionMessage>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                            <Button x:Name="btnDelete"
                                    Tag="Delete record"
                                    Style="{StaticResource IconButton}"
                                    Content="{StaticResource FontAwesomeTrash}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Click">
                                        <cal:ActionMessage MethodName="Delete">
                                        </cal:ActionMessage>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                        </ToolBar>
                        <ToolBar Background="Transparent">
                            <Button Tag="Refresh"
                                    Style="{StaticResource IconButton}"
                                    Content="{StaticResource FontAwesomeRefresh}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Click">
                                        <cal:ActionMessage MethodName="InRefresh">
                                        </cal:ActionMessage>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                        </ToolBar>
                    </ToolBarTray>
                </DockPanel>
            </Border>
            <GridSplitter Grid.Column="1"
                          Grid.Row="1"
                          Width="2"
                          Background="{StaticResource ApirsMediumGrayBrush}"
                          VerticalAlignment="Stretch"
                          HorizontalAlignment="Center"
                          ShowsPreview="True"/>
            <!---Updating rock sample informations-->
            <Border x:Name="MainBorder"
                    Grid.Row="1" 
                    Grid.Column="2"
                    BorderBrush="{StaticResource ForegroundDarkBrush}"
                    Background="{StaticResource BackgroundVeryLightBrush}"
                    BorderThickness="0">
                <ScrollViewer HorizontalScrollBarVisibility="Auto"
                              VerticalScrollBarVisibility="Auto">
                    <Grid HorizontalAlignment="Stretch" 
                      VerticalAlignment="Stretch"
                          MaxWidth="2000">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Border Background="{StaticResource BackgroundDarkSlateGrayBrush}"
                            Grid.ColumnSpan="3"
                            HorizontalAlignment="Stretch"
                            Grid.Row="0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Measurement details"
                                           Margin="20,5,20,5"
                                           Style="{StaticResource HeaderTextInput}"/>
                                <DockPanel>
                                    <ToolBarTray DockPanel.Dock="Top"
                                                 Background="Transparent">
                                    </ToolBarTray>
                                </DockPanel>
                            </StackPanel>
                        </Border>
                        <!---Lab measurements related to the sample-->
                        <Border Background="{StaticResource BackgroundVeryLightBrush}"
                             CornerRadius="8"
                             Grid.Column="0"
                            Grid.Row="1"
                            Margin="15"
                            BorderBrush="{StaticResource ApirsGrayBrush}"
                            BorderThickness="1">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"
                                               />
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Border Height="auto"
                                    Grid.Row="0"
                                    Background="{StaticResource BackgroundDarkSlateGrayBrush}"
                                    CornerRadius="8,8,0,0">
                                    <DockPanel>
                                        <TextBlock Text="Sample measurements"
                                                   Style="{StaticResource HeaderTextInput}"
                                                   Margin="20,3"
                                                   HorizontalAlignment="Center"/>
                                        <Button FontFamily="{StaticResource FontAwesome}"
                                                Content="&#xf055;"
                                                HorizontalAlignment="Right"
                                                Tag="New measurement" >
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="Click">
                                                    <cal:ActionMessage MethodName="Add">
                                                    </cal:ActionMessage>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </Button>
                                    </DockPanel>
                                </Border>
                                <ListView  Margin="3"
                                       x:Name="LabMeasurementsListView"
                                       ItemsSource="{Binding Source={StaticResource groupedMeasurements}}"
                                       SelectedItem="{Binding SelectedLaboratoryMeasurement, UpdateSourceTrigger=PropertyChanged}"
                                        Grid.Row="1"
                                        MaxHeight="300"     
                                       ItemContainerStyle="{StaticResource ListViewItemStyle}"
                                        AlternationCount="2"
                                       VerticalAlignment="Top">
                                    <i:Interaction.Behaviors>
                                        <local:SelectedMeasurementsBehaviour
                                                SelectedItemCollection="{Binding SelectedLaboratoryMeasurements}">
                                        </local:SelectedMeasurementsBehaviour>
                                    </i:Interaction.Behaviors>
                                    <ListView.ContextMenu>
                                        <ContextMenu DataContext="{Binding RelativeSource={RelativeSource Self}, Path=PlacementTarget.DataContext}">
                                            <MenuItem Header="Save"
                                                          cal:Message.Attach="[Event Click] = [Action Update]">
                                                <MenuItem.Icon>
                                                    <TextBlock FontFamily="{StaticResource FontAwesome}"
                                                                   Text="&#xf0c7;"
                                                                   Foreground="Black"
                                                                   Tag="Save data set"
                                                                   HorizontalAlignment="Center"/>
                                                </MenuItem.Icon>
                                            </MenuItem>
                                            <MenuItem Header="Add measurement"
                                                          cal:Message.Attach="[Event Click] = [Action Add]">
                                                <MenuItem.Icon>
                                                    <TextBlock FontFamily="{StaticResource FontAwesome}"
                                                                   Text="&#xf055;"
                                                                   Foreground="Green"
                                                                   Tag="Add measurement"
                                                                   HorizontalAlignment="Center"/>
                                                </MenuItem.Icon>
                                            </MenuItem>
                                            <MenuItem Header="Delete selected">
                                                <MenuItem.Icon>
                                                    <TextBlock FontFamily="{StaticResource FontAwesome}"
                                                                    Text="&#xf146;"
                                                                   Foreground="Red"
                                                                    Tag="Delete selected mesurements"
                                                                   HorizontalAlignment="Center"/>
                                                </MenuItem.Icon>
                                                <i:Interaction.Triggers>
                                                    <i:EventTrigger EventName="Click">
                                                        <cal:ActionMessage MethodName="Delete">
                                                        </cal:ActionMessage>
                                                    </i:EventTrigger>
                                                </i:Interaction.Triggers>
                                            </MenuItem>
                                            <Separator/>
                                        </ContextMenu>
                                    </ListView.ContextMenu>
                                    <ListView.GroupStyle>
                                        <GroupStyle>
                                            <GroupStyle.ContainerStyle>
                                                <Style TargetType="{x:Type GroupItem}">
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate>
                                                                <Expander IsExpanded="False"
                                                              Style="{StaticResource BaseStyle}"
                                                              Template="{StaticResource StretchyExpanderTemp}">
                                                                    <Expander.Header>
                                                                        <StackPanel Orientation="Horizontal">
                                                                            <TextBlock Text="{Binding Name}" 
                                                                           FontWeight="DemiBold" 
                                                                           FontSize="14" 
                                                                           VerticalAlignment="Center" />
                                                                            <TextBlock Text="{Binding ItemCount}" 
                                                                           FontSize="11" 
                                                                           Foreground="Gray"
                                                                           FontWeight="Bold" 
                                                                           FontStyle="Italic" 
                                                                           Margin="5,0,0,0" 
                                                                           VerticalAlignment="Center" />
                                                                        </StackPanel>
                                                                    </Expander.Header>
                                                                    <ItemsPresenter />
                                                                </Expander>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </GroupStyle.ContainerStyle>
                                        </GroupStyle>
                                    </ListView.GroupStyle>
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn Header="Meas. Id">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <TextBlock TextAlignment="Right"
                                                                   Text="{Binding Path=measIdPk}" 
                                                                   Style="{StaticResource GridViewColumnTextStyle}"/>
                                                        </Grid>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="Parameter">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock TextAlignment="Right"
                                                               Text="{Binding Path=measParameter}" 
                                                               Style="{StaticResource GridViewColumnTextStyle}"
                                                               MinWidth="150"/>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="Date">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock TextAlignment="Right"
                                                               Text="{Binding Path=measDate}" 
                                                               Style="{StaticResource GridViewColumnTextStyle}"
                                                               HorizontalAlignment="Left"
                                                               MinWidth="150"/>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="X">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock TextAlignment="Right"
                                                               Text="{Binding Path=measLocalCoordinateX}" 
                                                               Style="{StaticResource GridViewColumnTextStyle}"
                                                               HorizontalAlignment="Left"
                                                               MinWidth="20"
                                                                   MaxWidth="40"/>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="Y">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock TextAlignment="Right"
                                                               Text="{Binding Path=measLocalCoordinateY}" 
                                                               Style="{StaticResource GridViewColumnTextStyle}"
                                                               HorizontalAlignment="Left"
                                                               MinWidth="20"
                                                                   MaxWidth="40"/>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="Z">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock TextAlignment="Right"
                                                               Text="{Binding Path=measLocalCoordinateZ}" 
                                                               Style="{StaticResource GridViewColumnTextStyle}"
                                                               HorizontalAlignment="Left"
                                                               MinWidth="20"
                                                                   MaxWidth="40"/>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                                <DockPanel Grid.Row="2">
                                    <Border Background="{StaticResource ApirsMediumGrayBrush}"
                                                            Padding="5,0">
                                        <DockPanel>
                                            <ComboBox IsEditable="False"
                                      ItemsSource="{Binding Path=FilterProperties, Mode=OneWay,UpdateSourceTrigger=PropertyChanged}"
                                      SelectedValue="{Binding Path=SelectedFilterProperty, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=true}"
                                      DisplayMemberPath="alAlias" 
                                      IsTextSearchEnabled="True"
                                      IsSynchronizedWithCurrentItem="True" Margin="0,3,3,3" />
                                            <TextBlock Text="Contains"
                                                                       Foreground="White"
                                                                   Style="{StaticResource GridViewColumnTextStyle}"
                                                                   VerticalAlignment="Center"/>
                                            <TextBox Text="{Binding FilterText, Mode=TwoWay}"
                                                                 Style="{StaticResource inputTextBox}"
                                                                 MinWidth="50"
                                                                 Width="70"/>
                                        </DockPanel>
                                    </Border>
                                    <Border Background="{StaticResource BackgroundDarkSlateGrayBrush}"
                                                            Padding="5,0">
                                        <DockPanel>
                                            <ComboBox IsEditable="False"
                                              ItemsSource="{Binding Path=Properties, Mode=OneWay,UpdateSourceTrigger=PropertyChanged}"
                                              SelectedValue="{Binding Path=SelectedProperty, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=true}"
                                              DisplayMemberPath="alAlias" 
                                              IsTextSearchEnabled="True"
                                              IsSynchronizedWithCurrentItem="True" Margin="0,3,3,3" />

                                        </DockPanel>
                                    </Border>
                                </DockPanel>
                            </Grid>
                        </Border>
                        <TabControl Grid.Column="2"
                                     Grid.Row="1"
                                    HorizontalAlignment="Stretch"
                                     Margin="5,5,20,5">
                            <TabItem Header="Measurement information">
                                <GroupBox Grid.Column="1"
                          Grid.Row="1"
                          Margin="15"
                          Foreground="{StaticResource ForegroundVeryDarkBrush}"
                          >
                                    <GroupBox.Header>General information</GroupBox.Header>
                                    <ScrollViewer>
                                        <StackPanel HorizontalAlignment="Left">
                                            <DockPanel>
                                                <Label Content="Measurement ID:" 
                                   Style="{StaticResource inputLabel}" Margin="3,5,0,5" />
                                                <TextBox HorizontalAlignment="Right"
                                     IsEnabled="False"
                                     Style="{StaticResource inputTextBox}"
                                     Text="{Binding Path=SelectedLaboratoryMeasurement.measIdPk, Mode=TwoWay, 
                                        NotifyOnValidationError=true, ValidatesOnExceptions=true}" Margin="0,3,3,3"/>
                                            </DockPanel>
                                            <DockPanel>
                                                <Label Content="Sample reference:" 
                                   Style="{StaticResource inputLabel}"
                                   Margin="4,4,10,4" HorizontalAlignment="Stretch"/>
                                                <TextBox x:Name="sampLabelTextBox" 
                                     IsEnabled="False"
                                     HorizontalAlignment="Right"
                                     Style="{StaticResource inputTextBox}"
                                     Text="{Binding Path=SelectedLaboratoryMeasurement.measRockSampleIdFk, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Margin="0,3,3,3"/>
                                            </DockPanel>
                                            <DockPanel>
                                                <Label Content="Object of investigation:" 
                                   Style="{StaticResource inputLabel}"
                                   Grid.Column="0" 
                                   Grid.Row="19" Margin="3,4,0,4"/>
                                                <TextBox IsEnabled="False"
                                     HorizontalAlignment="Right"
                                     Style="{StaticResource inputTextBox}"
                                     Text="{Binding Path=SelectedRockSample.sampooiName, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Margin="0,3,3,3"/>
                                            </DockPanel>
                                            <DockPanel>
                                                <Label Content="Project:"
                                Style="{StaticResource inputLabel}"
                                 Margin="3,4,0,4"/>
                                                <ComboBox IsEditable="False"
                                      ItemsSource="{Binding Path=Projects, Mode=OneWay,UpdateSourceTrigger=PropertyChanged}"
                                      SelectedValuePath="prjIdPk"
                                      SelectedValue="{Binding Path=SelectedLaboratoryMeasurement.measprjIdFk, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=true}"
                                      DisplayMemberPath="prjName" 
                                      IsTextSearchEnabled="True"
                                      IsSynchronizedWithCurrentItem="True" Margin="0,3,3,3" />

                                            </DockPanel>
                                            <DockPanel>
                                                <Label Content="Mathematical type:" 
                                   Style="{StaticResource inputLabel}"
                                   Grid.Column="0" 
                                   Grid.Row="19" Margin="3,4,0,4"/>
                                                <TextBox IsEnabled="False"
                                     HorizontalAlignment="Right"
                                                     IsReadOnly="True"
                                     Style="{StaticResource inputTextBox}"
                                     Text="{Binding Path=SelectedLaboratoryMeasurement.measResultType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Margin="0,3,3,3"/>
                                            </DockPanel>
                                            <DockPanel>
                                                <Label Content="Type:" 
                                   Style="{StaticResource inputLabel}"
                                   Grid.Column="0" 
                                   Grid.Row="19" Margin="3,4,0,4"/>
                                                <TextBox IsEnabled="False"
                                     HorizontalAlignment="Right"
                                                     IsReadOnly="True"
                                     Style="{StaticResource inputTextBox}"
                                     Text="{Binding Path=SelectedLaboratoryMeasurement.measType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Margin="0,3,3,3"/>
                                            </DockPanel>
                                            <DockPanel>
                                                <Label Content="Type:"
                                        Style="{StaticResource inputLabel}"
                                        Margin="3,5,0,5"/>
                                                <ComboBox x:Name="sampTypeTextBox" 
                                          IsEditable="False"
                                          SelectedValue="{Binding Path=SelectedLaboratoryMeasurement.measParameter, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true, UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}"
                                          SelectedValuePath="Content"
                                          Text="{Binding Path=SelectedLaboratoryMeasurement.measParameter, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true,UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}" Margin="0,3,3,3"
                                          IsSynchronizedWithCurrentItem="True">
                                                    <ComboBoxItem Content="Apparent permeability"/>
                                                    <ComboBoxItem Content="Axial compression"/>
                                                    <ComboBoxItem Content="Bulk density"/>
                                                    <ComboBoxItem Content="Grain density"/>
                                                    <ComboBoxItem Content="Grain size"/>
                                                    <ComboBoxItem Content="Hydraulic head"/>
                                                    <ComboBoxItem Content="Intrinsic permeability"/>
                                                    <ComboBoxItem Content="Isotope"/>
                                                    <ComboBoxItem Content="Porosity"/>
                                                    <ComboBoxItem Content="Resistivity"/>
                                                    <ComboBoxItem Content="Sonic wave velocity"/>
                                                    <ComboBoxItem Content="Thermal conductivity"/>
                                                    <ComboBoxItem Content="Thermal diffusivity"/>
                                                    <ComboBoxItem Content="X-Ray Fluorescence"/>

                                                </ComboBox>
                                            </DockPanel>
                                            <StackPanel>
                                                <TextBlock Text="Local coordinates [m]" 
                                               Style="{StaticResource NavigationTextBlock}"
                                               Foreground="{StaticResource ForegroundVeryDarkBrush}"
                                               FontSize="{StaticResource FontSizeSmall}"
                                                       HorizontalAlignment="Center"
                                               Margin="20,5"/>
                                                <StackPanel Orientation="Horizontal">
                                                    <DockPanel Margin="20,0">
                                                        <Label Content="X" 
                                                    Style="{StaticResource inputLabel}"
                                                     Margin="3,4,0,4"/>
                                                        <TextBox Text="{Binding Path=SelectedLaboratoryMeasurement.measLocalCoordinateX, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                                     Style="{StaticResource inputTextBox}"
                                                     Margin="0,3,3,3"
                                                         Width="60"/>
                                                    </DockPanel>

                                                    <DockPanel Margin="20,0">
                                                        <Label Content="Y:" 
                                                Style="{StaticResource inputLabel}"
                                                 Margin="3,4,0,4"/>
                                                        <TextBox Text="{Binding Path=SelectedLaboratoryMeasurement.measLocalCoordinateY, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                                 Style="{StaticResource inputTextBox}"
                                                 Margin="0,3,3,3"
                                                     Width="60"/>

                                                    </DockPanel>
                                                    <DockPanel Margin="20,0">
                                                        <Label Content="Z:" 
                                                Style="{StaticResource inputLabel}"
                                                 Margin="3,4,0,4"/>
                                                        <TextBox Text="{Binding Path=SelectedLaboratoryMeasurement.measLocalCoordinateZ, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                                 Style="{StaticResource inputTextBox}"
                                                 Margin="0,3,3,3"
                                                 Width="60"/>

                                                    </DockPanel>
                                                </StackPanel>
                                                <DockPanel Margin="0,5">
                                                    <Label Content="Measurement date:" 
                                           Style="{StaticResource inputLabel}" Margin="3,3,0,3"/>
                                                    <DatePicker HorizontalAlignment="Right" 
                                                Width="129"
                                                Validation.ErrorTemplate="{StaticResource errorTemplateSilverlightStyle}">
                                                        <DatePicker.SelectedDate>
                                                            <Binding Path="SelectedLaboratoryMeasurement.measDate"
                                                             Mode="TwoWay"
                                                             NotifyOnValidationError="True"
                                                             UpdateSourceTrigger="PropertyChanged"
                                                             ValidatesOnExceptions="True">
                                                            </Binding>
                                                        </DatePicker.SelectedDate>
                                                    </DatePicker>
                                                </DockPanel>
                                            </StackPanel>
                                        </StackPanel>
                                    </ScrollViewer>
                                </GroupBox>
                            </TabItem>
                            <TabItem Header="Sample information">
                                <Grid>
                                    <ScrollViewer MaxHeight="300">
                                        <StackPanel HorizontalAlignment="Left">

                                            <!---Group box for miscellaneous data-->
                                            <GroupBox Margin="15"
                              Height="Auto">
                                                <GroupBox.Header>Rock sample</GroupBox.Header>
                                                <StackPanel Margin="2">
                                                    <DockPanel>
                                                        <Label Content="Facies type:" 
                                           Grid.Column="0" 
                                           Grid.Row="4" 
                                           Style="{StaticResource inputLabel}" Margin="3,5,0,5"/>
                                                        <TextBox  IsEnabled="False"
                                              Style="{StaticResource inputTextBox}"
                                              Text="{Binding Path=SelectedRockSample.sampFaciesFk, Mode=OneWay}"
                                              Margin="0,3,3,3">
                                                        </TextBox>
                                                    </DockPanel>
                                                    <DockPanel>
                                                        <Label Content="Petrographic Term:" 
                                       Style="{StaticResource inputLabel}"
                                        Margin="3,4,0,4"  />
                                                        <TextBox  IsEnabled="False"
                                              Text="{Binding Path=SelectedRockSample.sampPetrographicTerm, Mode=OneWay}"
                                              Style="{StaticResource inputTextBox}"
                                              Margin="0,3,3,3"/>
                                                    </DockPanel>
                                                    <DockPanel>
                                                        <Label Content="Analytical instrument:"
                                Style="{StaticResource inputLabel}"
                                 Margin="3,4,0,4"/>
                                                        <ComboBox Name="AnalyticalInstruments" 
                                            IsEditable="False"
                                                  Style="{StaticResource ComboboxWithAddButton}"
                                      ItemsSource="{Binding Path=AnalyticalInstrument, Mode=OneTime,UpdateSourceTrigger=PropertyChanged}"
                                      SelectedValuePath="mdName"
                                      SelectedValue="{Binding Path=SelectedLaboratoryMeasurement.measDevice, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=true}"
                                      DisplayMemberPath="mdName" 
                                      Text="{Binding Path=SelectedLaboratoryMeasurement.measDevice, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}"
                                      IsTextSearchEnabled="True"
                                      IsSynchronizedWithCurrentItem="True" Margin="0,3,3,3">
                                                        </ComboBox>

                                                    </DockPanel>

                                                    <DockPanel>
                                                        <Label Content="Mass:" 
                                           Style="{StaticResource inputLabel}"
                                           Margin="3,5,0,5"/>
                                                        <TextBox x:Name="sampMassTextBox" 
                                             IsEnabled="False"
                                         Style="{StaticResource inputTextBox}"
                                         Text="{Binding Path=SelectedRockSample.sampMass, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Margin="0,3,3,3"/>
                                                    </DockPanel>
                                                    <DockPanel>
                                                        <Label Content="Depth/Height [m]:" 
                                           Style="{StaticResource inputLabel}"
                                           Margin="3,5,0,5"/>
                                                        <TextBox IsEnabled="False"
                                         Style="{StaticResource inputTextBox}"
                                         Text="{Binding Path=SelectedRockSample.sampLocalZCoordinates, Mode=OneWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Margin="0,3,3,3"/>
                                                    </DockPanel>
                                                    <DockPanel>
                                                        <Label Content="Confidential:" 
                                        Style="{StaticResource inputLabel}" 
                                       Margin="3,3,0,3"/>
                                                        <CheckBox Content=""
                                          HorizontalAlignment="Right"
                                          VerticalAlignment="Center"
                                          IsChecked="{Binding Path=SelectedLaboratoryMeasurement.measConfidential, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" 
                                          />
                                                    </DockPanel>
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Content="Chronostratigraphy:" 
                                       Style="{StaticResource inputLabel}" Margin="3,4,0,4"/>
                                                            <ComboBox IsEnabled="False" 
                                      IsEditable="False"
                                      ItemsSource="{Binding Path=Chronostratigraphy, Mode=OneTime,UpdateSourceTrigger=PropertyChanged}"
                                      DisplayMemberPath="eonName" 
                                      IsTextSearchEnabled="True"
                                      IsSynchronizedWithCurrentItem="True"
                                      Text="{Binding Path=SelectedRockSample.sampChronStratName, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Margin="0,3,3,3"/>

                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Content="Lithostratigraphy:" 
                                   Style="{StaticResource inputLabel}"
                                   Margin="3,4,0,4"/>
                                                            <ComboBox Name="Lithostratigraphy"  
                                            IsEnabled="False" 
                                                   Style="{StaticResource ComboboxWithAddButton}"
                                      IsEditable="False"
                                      ItemsSource="{Binding Path=Lithostratigraphy, Mode=OneTime,UpdateSourceTrigger=PropertyChanged}"
                                      DisplayMemberPath="grName" 
                                      IsTextSearchEnabled="True"
                                      IsSynchronizedWithCurrentItem="True"
                                     Text="{Binding Path=SelectedRockSample.sampLithostratigraphyName, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Margin="0,3,3,3"/>

                                                        </DockPanel>
                                                    </StackPanel>
                                                </StackPanel>
                                            </GroupBox>
                                        </StackPanel>
                                    </ScrollViewer>
                                </Grid>

                            </TabItem>
                            <!--<TabItem Header="Files">
                                <StackPanel Margin="3">

                                    --><!---Displaying related files--><!--
                                    <StackPanel x:Name="FileStackPan"
                                Grid.Column="0"
                                Grid.Row="2"
                                Grid.RowSpan="2"
                                Width="Auto"
                                VerticalAlignment="Stretch">
                                        <GroupBox Header="Files">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>
                                                <ScrollViewer>
                                                    <ListView ItemsSource="{Binding Path=FileStore, 
                                                            Mode=OneWay, 
                                                            NotifyOnSourceUpdated=True,
                                                            IsAsync=True}"
                                              SelectedItem="{Binding Path=SelectedFileStore}"
                                              >
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridViewColumn Header="File name">
                                                                    <GridViewColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <TextBlock TextAlignment="Right"
                                                               Text="{Binding Path=name, Mode=OneWay}" 
                                                               Style="{StaticResource GridViewColumnTextStyle}"/>
                                                                        </DataTemplate>
                                                                    </GridViewColumn.CellTemplate>
                                                                </GridViewColumn>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>
                                                </ScrollViewer>

                                                <Border Background="{StaticResource BackgroundLightBrush}"
                                        Opacity="0.6"
                                        Visibility="{Binding Path=IsFileLoading, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=False}">
                                                    <TextBlock HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Text="Loading..."
                                               FontSize="{StaticResource FontSizeLarge}"/>
                                                </Border>
                                                <StackPanel Orientation="Horizontal"
                                            Grid.Row="1"
                                            Background="{StaticResource ButtonNormalBackground1}">
                                                    <Button FontFamily="{StaticResource FontAwesome}"
                                                Content="&#xf053;"
                                                Tag="Previous"
                                            Margin="15,5">
                                                        <i:Interaction.Triggers>
                                                            <i:EventTrigger EventName="Click">
                                                                <cal:ActionMessage MethodName="PreviousFile">
                                                                </cal:ActionMessage>
                                                            </i:EventTrigger>
                                                        </i:Interaction.Triggers>
                                                    </Button>
                                                    <TextBlock Text="File "
                                       Style="{StaticResource NavigationTextBlock}"/>
                                                    <TextBox Text="{Binding SelectedFileRockSampleIndex, Mode=TwoWay}"
                                             Style="{StaticResource inputTextBox}"
                                             Width="Auto"
                                             VerticalContentAlignment="Center"
                                             Padding="2"/>
                                                    <TextBlock Text=" of "
                                       Style="{StaticResource NavigationTextBlock}"/>
                                                    <TextBlock Text="{Binding CountFilesLaboratoryMeasurement, Mode=OneWay}"
                                       Style="{StaticResource NavigationTextBlock}"/>
                                                    <Button FontFamily="{StaticResource FontAwesome}"
                                                Content="&#xf054;"
                                                Tag="Next"
                                            Margin="15,5">
                                                        <i:Interaction.Triggers>
                                                            <i:EventTrigger EventName="Click">
                                                                <cal:ActionMessage MethodName="NextFile">
                                                                </cal:ActionMessage>
                                                            </i:EventTrigger>
                                                        </i:Interaction.Triggers>
                                                    </Button>
                                                    <Button FontFamily="{StaticResource FontAwesome}"
                                                Content="&#xf055;"
                                                Tag="Add file"
                                            Margin="15,5">
                                                        <i:Interaction.Triggers>
                                                            <i:EventTrigger EventName="Click">
                                                                <cal:ActionMessage MethodName="UploadFile">
                                                                </cal:ActionMessage>
                                                            </i:EventTrigger>
                                                        </i:Interaction.Triggers>
                                                    </Button>
                                                    <Button FontFamily="{StaticResource FontAwesome}"
                                                Content="&#xf146;"
                                                Tag="Remove file"
                                            Margin="15,5">
                                                        <i:Interaction.Triggers>
                                                            <i:EventTrigger EventName="Click">
                                                                <cal:ActionMessage MethodName="DeleteFile">
                                                                </cal:ActionMessage>
                                                            </i:EventTrigger>
                                                        </i:Interaction.Triggers>
                                                    </Button>
                                                    <Button FontFamily="{StaticResource FontAwesome}"
                                                Content="&#xf019;"
                                                Tag="Download"
                                                Margin="15,5">
                                                        <i:Interaction.Triggers>
                                                            <i:EventTrigger EventName="Click">
                                                                <cal:ActionMessage MethodName="DownloadFile">
                                                                </cal:ActionMessage>
                                                            </i:EventTrigger>
                                                        </i:Interaction.Triggers>
                                                    </Button>
                                                </StackPanel>
                                            </Grid>
                                        </GroupBox>
                                    </StackPanel>


                                </StackPanel>
                            </TabItem>-->
                            <TabItem Header="Parameter">
                                <Grid>
                                    <ScrollViewer MaxHeight="600"
                                                  VerticalScrollBarVisibility="Auto">
                                        <StackPanel Grid.Column="2"
                                                    HorizontalAlignment="Left"
                                Grid.RowSpan="2"
                              Grid.Row="1"
                                Margin="0,0,80,0">
                                            <Border Visibility="{Binding Path=IsGrainDensity, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Grain density">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Grain density [g cm</Run>
                                                <Run Typography.Variants="Superscript">-3</Run>
                                                <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=GrainDensity.gdMeanDensity, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Grain density Std. Dev. [g cm</Run>
                                                <Run Typography.Variants="Superscript">-3</Run>
                                                <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=GrainDensity.gdMeanDensityStdDev, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Temperature [°C]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=GrainDensity.gdTemperature, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Cell volume [cm</Run>
                                                <Run Typography.Variants="Superscript">3</Run>
                                                <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=GrainDensity.gdCellVolume, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Sample volume [cm</Run>
                                                <Run Typography.Variants="Superscript">3</Run>
                                                <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=GrainDensity.gdMeanVolume, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsHydraulicHead, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Hydraulic head">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Hydraulic head [m]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=HydraulicHead.hhHead, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Hydraulic head Std. Dev. [m]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=HydraulicHead.hhAccuracy, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsBulkDensity, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Bulk density">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Bulk density [g cm</Run>
                                                <Run Typography.Variants="Superscript">-3</Run>
                                                <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=BulkDensity.bdValue, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Bulk density Std. Dev. [g cm</Run>
                                                <Run Typography.Variants="Superscript">-3</Run>
                                                <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=BulkDensity.bdAccuracy, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsPorosity, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Porosity">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Porosity [-]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=Porosity.porValueDec, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Porosity Std. Dev. [-]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=Porosity.porStandardDeviationDec, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Porosity [%]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=Porosity.porValuePerc, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Porosity type</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <ComboBox
                                          IsEditable="False"
                                          SelectedValue="{Binding Path=Porosity.porType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true, UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}"
                                          SelectedValuePath="Content"
                                          Text="{Binding Path=Porosity.porType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true,UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}" Margin="0,3,3,3"
                                          IsSynchronizedWithCurrentItem="True">
                                                                <ComboBoxItem Content="Effective porosity"/>
                                                                <ComboBoxItem Content="Total porosity"/>
                                                                <ComboBoxItem Content="Unknown"/>
                                                            </ComboBox>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsIsotope, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Isotope">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Mass [%]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=Isotope.isValue, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Isotope</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <ComboBox IsEditable="False"
                                                                      SelectedValue="{Binding Path=Isotope.isIsotope, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true, UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}"
                                                                      SelectedValuePath="Content"
                                                                      Text="{Binding Path=Isotope.isIsotope, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true,UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}" Margin="0,3,3,3"
                                                                      IsSynchronizedWithCurrentItem="True">
                                                                <ComboBoxItem Content="13C"/>
                                                                <ComboBoxItem Content="14C"/>
                                                                <ComboBoxItem Content="16O"/>
                                                                <ComboBoxItem Content="18O"/>
                                                            </ComboBox>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Measurement time [s]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=Isotope.isMeasurementTime, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Porosity type</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <ComboBox
                                          IsEditable="False"
                                          SelectedValue="{Binding Path=Porosity.porType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true, UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}"
                                          SelectedValuePath="Content"
                                          Text="{Binding Path=Porosity.porType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true,UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}" Margin="0,3,3,3"
                                          IsSynchronizedWithCurrentItem="True">
                                                                <ComboBoxItem Content="Effective porosity"/>
                                                                <ComboBoxItem Content="Total porosity"/>
                                                                <ComboBoxItem Content="Unknown"/>
                                                            </ComboBox>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsApparentPermeability, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Top"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Apparent permeability">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Apparent permeability [m</Run>
                                                <Run Typography.Variants="Subscript">2</Run>
                                                <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ApparentPermeability.apermValueM2, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Apparent permeability [mD]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox IsEnabled="True"
                                            Text="{Binding Path=ApparentPermeability.apermValueMD, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Temperature [°C]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ApparentPermeability.apermTemperature, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Air pressure [mbar]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ApparentPermeability.apermAirPressure, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Differential pressure [mbar]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ApparentPermeability.apermDifferentialPressure, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Injection pressure [mbar]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ApparentPermeability.apermInjectionPressure, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Measurement angle [°]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ApparentPermeability.apermMeasurementAngle, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsIntrinsicPermeability, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Intrinsic permeability">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Intrinsic permeability [m</Run>
                                                <Run Typography.Variants="Superscript">2</Run>
                                                <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=IntrinsicPermeability.inpeValuem2, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Sample radius [cm]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox IsEnabled="True"
                                            Text="{Binding Path=IntrinsicPermeability.inpeRadius, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Sample height [cm]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox IsEnabled="True"
                                            Text="{Binding Path=IntrinsicPermeability.inpeLength, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Intrinsic permeability mD</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox 
                                            Text="{Binding Path=IntrinsicPermeability.inpeValuemD, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Temperature [°C]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=IntrinsicPermeability.inpeTemperature, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Apparent permeability array [m</Run>
                                                <Run Typography.Variants="Superscript">2</Run>
                                                <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=IntrinsicPermeability.inpeArrayApparentPermm2, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Cell pressure array [mbar]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=IntrinsicPermeability.inpeArrayPressure, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Differential pressure array [mbar]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=IntrinsicPermeability.inpeArrayDifferentialPressure, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Discharge array [mlm s</Run>
                                                <Run Typography.Variants="Superscript">-1</Run>
                                                <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=IntrinsicPermeability.inpeArrayDischarge, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsThermalConductivity, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Thermal conductivity">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run Text="Average thermal&#10;conductivity [W/mK]"></Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalConductivity.tcAvValue, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run Text="Maximum thermal&#10;conductivity [W/mK]"></Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalConductivity.tcMaxValue, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run Text="Minimum thermal&#xA;conductivity [W/mK]"></Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalConductivity.tcMinValue, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run Text="Thermal conductivity&#xA;Std. Dev. [W/mK]"></Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalConductivity.tcStandardDev, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Heterogeneity [W/mK]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalConductivity.tcHeterogeneity, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Measurement direction</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalConductivity.tcMeasurementDirection, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Sample saturation [-]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalConductivity.tcSampleSaturation, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Reference sample</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalConductivity.tcUsedReferenceSample, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsThermalDiffusivity, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Thermal diffusivity">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run Text="Average thermal&#10; diffusivity [m"></Run>
                                                <Run Typography.Variants="Superscript">2</Run>
                                                <Run>/s]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalDiffusivity.tdAvValue, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run Text="Maximum thermal&#10; diffusivity [m"></Run>
                                                <Run Typography.Variants="Superscript">2</Run>
                                                <Run>/s]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalDiffusivity.tdMaxValue, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run Text="Minimum thermal&#10; diffusivity [m"></Run>
                                                <Run Typography.Variants="Superscript">2</Run>
                                                <Run>/s]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalDiffusivity.tdMinValue, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run Text="Thermal diffusivity&#10; Std. Dev. [m"></Run>
                                                <Run Typography.Variants="Superscript">2</Run>
                                                <Run>/s]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalDiffusivity.tdtcStandardDev, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Heterogeneity [m</Run>
                                                <Run Typography.Variants="Superscript">2</Run>
                                                <Run>/s]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalDiffusivity.tdtcHeterogeneity, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Measurement direction</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalDiffusivity.tcMeasurementDirection, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Sample saturation [-]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalDiffusivity.tdSampleSaturation, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Reference sample</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=ThermalDiffusivity.tdUsedReferenceSample, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsResistivity, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Resistivity">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Resistivity [Ωm]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=Resistivity.resValue, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Measurement direction</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=Resistivity.resDirection, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Sample saturation [-]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=Resistivity.resSaturation, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsSonicWaveVelocity, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Sonic wave velocity">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Wave type</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <ComboBox IsEditable="False"
                                                  SelectedValue="{Binding Path=SonicWaveVelocity.swWavetype, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true, UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}"
                                                  SelectedValuePath="Content"
                                                  Text="{Binding Path=SonicWaveVelocity.swWavetype, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true,UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}" Margin="0,3,3,3"
                                                  IsSynchronizedWithCurrentItem="True">
                                                                <ComboBoxItem Content="p-wave"/>
                                                                <ComboBoxItem Content="s-wave"/>
                                                            </ComboBox>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Velocity [m/s]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swVelocity, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Measuring frequency [kHz]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swFrequency, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Measuring amplitude [mV]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swAmplitude, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Measuring time [µs]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swMeasuringTime, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Displacement [cm]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swMeasurementDisplacement, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Local x [cm]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swLocalCoordinateX, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Local y [cm]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swLocalCoordinateY, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Local z [cm]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swLocalCoordinateZ, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Measurement angle [°]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swMeasurementAngle, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Measurement direction</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swMeasurementDirection, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Sample saturation [-]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=SonicWaveVelocity.swSampleSaturation, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsGrainSize, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Top"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Grain size">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Scale type</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <ComboBox IsEditable="False"
                                                  SelectedValue="{Binding Path=GrainSize.gsScale, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true, UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}"
                                                  SelectedValuePath="Content"
                                                  Text="{Binding Path=GrainSize.gsScale, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true,UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}" Margin="0,3,3,3"
                                                  IsSynchronizedWithCurrentItem="True">
                                                                <ComboBoxItem Content="Wentworth"/>
                                                            </ComboBox>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Average [mm]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=GrainSize.gsAverage, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Maximum [mm]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=GrainSize.gsMaximum, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Minimum [mm]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=GrainSize.gsMinimum, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Area [m</Run>
                                                                    <Run Typography.Variants="Subscript">2</Run>
                                                                    <Run>]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=GrainSize.gsSizeDomain, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsAxialCompression, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Top"
                                Margin="0,5,0,5">
                                                <GroupBox Header="Axial compression">
                                                    <StackPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Compression type</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <ComboBox IsEditable="False"
                                                  SelectedValue="{Binding Path=AxialCompression.acType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true, UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}"
                                                  SelectedValuePath="Content"
                                                  Text="{Binding Path=AxialCompression.acType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true,UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}" Margin="0,3,3,3"
                                                  IsSynchronizedWithCurrentItem="True">
                                                                <ComboBoxItem Content="Uni-axial"/>
                                                                <ComboBoxItem Content="Bi-axial"/>
                                                                <ComboBoxItem Content="Tri-axial"/>
                                                                <ComboBoxItem Content="Radial"/>
                                                            </ComboBox>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label>
                                                            <TextBlock>
                                                            <Run>Strain measuring method</Run>
                                                        </TextBlock>
                                                        </Label>
                                                        <ComboBox IsEditable="False"
                                                  SelectedValue="{Binding Path=AxialCompression.acStrainMeasuringMethod, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true, UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}"
                                                  SelectedValuePath="Content"
                                                  Text="{Binding Path=AxialCompression.acStrainMeasuringMethod, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true,UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}" Margin="0,3,3,3"
                                                  IsSynchronizedWithCurrentItem="True">
                                                            <ComboBoxItem Content="Linear Variable Differential Transformers"/>
                                                                <ComboBoxItem Content="Strain Gauges"/>
                                                            </ComboBox>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label>
                                                                <TextBlock>
                                                            <Run>Load control</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <ComboBox IsEditable="False"
                                                  SelectedValue="{Binding Path=AxialCompression.acLoadControl, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true, UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}"
                                                  SelectedValuePath="Content"
                                                  Text="{Binding Path=AxialCompression.acLoadControl, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true,UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}" Margin="0,3,3,3"
                                                  IsSynchronizedWithCurrentItem="True">
                                                                <ComboBoxItem Content="Stress"/>
                                                                <ComboBoxItem Content="Displacement"/>
                                                            </ComboBox>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Maximal axial stress [MPa]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=AxialCompression.acAxialStressMax, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Lateral stress [MPa]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=AxialCompression.acLateralStress, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Axial strain at maximal stress [-]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=AxialCompression.acAxialStrainAtStressMax, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Maximal axial strain [-]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=AxialCompression.acAxialStrainMax, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Young's modulus [GPa]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=AxialCompression.acYoungsModulus, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                        <DockPanel>
                                                            <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                <TextBlock>
                                                <Run>Poisson's ratio [-]</Run>
                                                                </TextBlock>
                                                            </Label>
                                                            <TextBox Text="{Binding Path=AxialCompression.acPoissonRatio, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                 Style="{StaticResource inputTextBox}"/>
                                                        </DockPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                            <Border Visibility="{Binding Path=IsXRF, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=True, Mode=OneWay, NotifyOnSourceUpdated=True}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Margin="0,5,0,5">
                                                <GroupBox Header="X-Ray Fluorescence">
                                                    <StackPanel>
                                                        <StackPanel Orientation="Horizontal">
                                                            <DockPanel>
                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                    <TextBlock>
                                                    <Run>Type</Run>
                                                                    </TextBlock>
                                                                </Label>
                                                                <ComboBox IsEditable="False"
                                                      SelectedValue="{Binding Path=Xrf.xrfType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true, UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}"
                                                      SelectedValuePath="Content"
                                                      Text="{Binding Path=Xrf.xrfType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true,UpdateSourceTrigger=PropertyChanged, NotifyOnSourceUpdated=True}" Margin="0,3,3,3"
                                                      IsSynchronizedWithCurrentItem="True">
                                                                    <ComboBoxItem Content="Handheld"/>
                                                                    <ComboBoxItem Content="Stationary"/>
                                                                </ComboBox>
                                                            </DockPanel>
                                                            <DockPanel>
                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5">
                                                                    <TextBlock>
                                                    <Run>Mode</Run>
                                                                    </TextBlock>
                                                                </Label>
                                                                <TextBox Text="{Binding Path=Xrf.xrfMode, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="100"/>

                                                            </DockPanel>
                                                        </StackPanel>
                                                        <GroupBox Header="Oxides"
                                              HorizontalContentAlignment="Stretch">
                                                            <StackPanel>
                                                                <StackPanel Orientation="Horizontal">
                                                                    <DockPanel>
                                                                        <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                            <TextBlock>
                                                    <Run>SiO</Run>
                                                    <Run Typography.Variants="Subscript">2</Run>
                                                    <Run> [%]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfSiO2, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                    </DockPanel>
                                                                    <DockPanel HorizontalAlignment="Right">
                                                                        <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                            <TextBlock>
                                                    <Run>Al</Run>
                                                    <Run Typography.Variants="Subscript">2</Run>
                                                    <Run>O</Run>
                                                    <Run Typography.Variants="Subscript">3</Run>
                                                    <Run> [%]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfAl2O3, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                    </DockPanel>
                                                                </StackPanel>
                                                                <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                    <DockPanel>
                                                                        <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                            <TextBlock>
                                                    <Run>TiO</Run>
                                                    <Run Typography.Variants="Subscript">2</Run>
                                                    <Run> [%]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfTiO2, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                    </DockPanel>
                                                                    <DockPanel HorizontalAlignment="Right">
                                                                        <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                            <TextBlock>
                                                    <Run>Fe</Run>
                                                    <Run Typography.Variants="Subscript">2</Run>
                                                    <Run>O</Run>
                                                    <Run Typography.Variants="Subscript">3</Run>
                                                    <Run> [%]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfFe2O3, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                    </DockPanel>
                                                                </StackPanel>
                                                                <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                    <DockPanel>
                                                                        <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                            <TextBlock>
                                                    <Run>K</Run>
                                                    <Run Typography.Variants="Subscript">2</Run>
                                                    <Run>O [%]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfK2O, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                    </DockPanel>
                                                                    <DockPanel HorizontalAlignment="Right">
                                                                        <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                            <TextBlock>
                                                    <Run>Na</Run>
                                                    <Run Typography.Variants="Subscript">2</Run>
                                                    <Run>O [%]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfNa2O, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                    </DockPanel>
                                                                </StackPanel>
                                                                <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                    <DockPanel>
                                                                        <Label Style="{StaticResource inputLabel}" Width="80" Margin="3,5,0,5">
                                                                            <TextBlock>
                                                            <Run>MgO [%]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfMgO, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                    </DockPanel>
                                                                    <DockPanel>
                                                                        <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                            <TextBlock>
                                                            <Run>MnO [%]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfMnO, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                    </DockPanel>
                                                                </StackPanel>
                                                                <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                    <DockPanel>
                                                                        <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                            <TextBlock>
                                                    <Run>P</Run>
                                                    <Run Typography.Variants="Subscript">2</Run>
                                                    <Run>O</Run>
                                                    <Run Typography.Variants="Subscript">5</Run>
                                                    <Run>[%]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfP2O5, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                    </DockPanel>
                                                                    <DockPanel>
                                                                        <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" 
                                                           Width="80">
                                                                            <TextBlock>
                                                            <Run>CaO [%]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfCaO, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                    </DockPanel>
                                                                </StackPanel>
                                                            </StackPanel>

                                                        </GroupBox>
                                                        <Expander HorizontalContentAlignment="Stretch"
                                              Style="{StaticResource BaseStyle}"
                                              Template="{StaticResource StretchyExpanderTemp}">
                                                            <Expander.Header>
                                                                <TextBlock Text="Elements"
                                                       Foreground="{StaticResource ForegroundVeryDarkBrush}"
                                                       FontSize="{StaticResource FontSizeRegular}"
                                                       FontWeight="DemiBold"/>
                                                            </Expander.Header>
                                                            <Grid MaxHeight="400">
                                                                <ScrollViewer>
                                                                    <StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>As [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfAs, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel HorizontalAlignment="Right">
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock><Run>
                                                                    Ba [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfBa, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Width="80" Margin="3,5,0,5">
                                                                                    <TextBlock>
                                                                    <Run>Bi [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfBi, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Cd [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfCd, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Ce [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfCe, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" 
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Cl [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfCl, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Co [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfCo, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel HorizontalAlignment="Right">
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock><Run>
                                                                    Cr [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfCr, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Width="80" Margin="3,5,0,5">
                                                                                    <TextBlock>
                                                                    <Run>Cs [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfCs, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Cu [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfCu, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Dy [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfDy, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" 
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Er [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfEr, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Eu [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfEu, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel HorizontalAlignment="Right">
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock><Run>
                                                                    F [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfF, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Width="80" Margin="3,5,0,5">
                                                                                    <TextBlock>
                                                                    <Run>Ga [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfGa, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Gd [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfGd, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Hf [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfHf, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" 
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Ho [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfHo, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>La [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfLa, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel HorizontalAlignment="Right">
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock><Run>
                                                                    Mo [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfMo, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Width="80" Margin="3,5,0,5">
                                                                                    <TextBlock>
                                                                    <Run>Nb [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfNb, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Nd [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfNd, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Ni [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfNi, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" 
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Pb [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfPb, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Pr [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfPr, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel HorizontalAlignment="Right">
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock><Run>
                                                                    Rb [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfRb, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Width="80" Margin="3,5,0,5">
                                                                                    <TextBlock>
                                                                    <Run>S [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfS, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Sb [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfSb, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Sc [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfSc, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" 
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Sm [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfSm, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Sn [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfSn, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel HorizontalAlignment="Right">
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock><Run>
                                                                    Sr [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfSr, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Width="80" Margin="3,5,0,5">
                                                                                    <TextBlock>
                                                                    <Run>Ta [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfTa, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Tb [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfTb, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Th [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfTh, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" 
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>U [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfU, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>V [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfV, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel HorizontalAlignment="Right">
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock><Run>
                                                                    W [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfW, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Width="80" Margin="3,5,0,5">
                                                                                    <TextBlock>
                                                                    <Run>Y [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfY, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Yb [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfYb, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal"
                                                        HorizontalAlignment="Stretch">
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5"
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Zn [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfZn, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                            <DockPanel>
                                                                                <Label Style="{StaticResource inputLabel}" Margin="3,5,0,5" 
                                                           Width="80">
                                                                                    <TextBlock>
                                                                    <Run>Zr [ppm]</Run>
                                                                                    </TextBlock>
                                                                                </Label>
                                                                                <TextBox Text="{Binding Path=Xrf.xrfZr, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                             Style="{StaticResource inputTextBox}"
                                                             Width="50"/>
                                                                            </DockPanel>
                                                                        </StackPanel>
                                                                    </StackPanel>
                                                                </ScrollViewer>
                                                            </Grid>
                                                        </Expander>
                                                        <Separator/>
                                                        <StackPanel>
                                                            <Border Background="{StaticResource ApirsGrayBrush}"
                                                    HorizontalAlignment="Stretch"
                                                    Height="Auto">
                                                                <StackPanel Orientation="Horizontal">
                                                                    <DockPanel>
                                                                        <Label Style="{StaticResource inputLabel}" 
                                                           Foreground="{StaticResource ForegroundVeryDarkBrush}" 
                                                           Margin="3,5,0,5" Width="60">
                                                                            <TextBlock>
                                                                <Run>SUM</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfSum, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                                         Style="{StaticResource inputTextBox}"
                                                                     IsEnabled="False"
                                                                         Width="100"/>
                                                                    </DockPanel>
                                                                    <DockPanel HorizontalAlignment="Right">
                                                                        <Label Style="{StaticResource inputLabel}" 
                                                           Foreground="{StaticResource ForegroundVeryDarkBrush}" 
                                                           Margin="3,5,0,5" Width="100">
                                                                            <TextBlock>
                                                                <Run>Meas. time [s]</Run>
                                                                            </TextBlock>
                                                                        </Label>
                                                                        <TextBox Text="{Binding Path=Xrf.xrfTime, Mode=TwoWay, NotifyOnSourceUpdated=True}"
                                                                         Style="{StaticResource inputTextBox}"
                                                                         Width="50"/>
                                                                    </DockPanel>
                                                                </StackPanel>
                                                            </Border>
                                                        </StackPanel>
                                                    </StackPanel>
                                                </GroupBox>
                                            </Border>
                                        </StackPanel>
                                    </ScrollViewer>
                                </Grid>

                            </TabItem>
                        </TabControl>
                        <GridSplitter Grid.ColumnSpan="3"
                          Grid.Row="2"
                          Height="6"
                          Background="Transparent"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Stretch"
                          ShowsPreview="True"/>
                        <GridSplitter Grid.Column="1"
                          Grid.RowSpan="4"
                          Width="6"
                          Background="Transparent"
                          VerticalAlignment="Stretch"
                          HorizontalAlignment="Center"
                          ShowsPreview="True"/>

                    </Grid>
                </ScrollViewer>

            </Border>
        </Grid>
    </Border>
</UserControl>
